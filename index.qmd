---
title: "Météo Montpellier"
---
```{python}
#| code-fold: true
#| code-summary: "Dérouler le code"
import numpy as np
import matplotlib.pyplot as plt
import requests
import datetime
import pooch
from dateutil.relativedelta import relativedelta
start_date = datetime.datetime.now() - relativedelta(days=3)
end_date = start_date + relativedelta(days=6)

debut=""
if (start_date.month <10 and start_date.day <10):
    debut = f"{start_date.year}-0{start_date.month}-0{start_date.day}"
elif start_date.day <10:
    debut = f"{start_date.year}-{start_date.month}-0{start_date.day}"
elif start_date.month <10:
    debut = f"{start_date.year}-0{start_date.month}-{start_date.day}"
else:
    debut = f"{start_date.year}-{start_date.month}-{start_date.day}"


print(debut)
fin=""
if (end_date.month <10 and end_date.day <10):
    fin = f"{end_date.year}-0{end_date.month}-0{end_date.day}"
elif end_date.day <10:
    fin = f"{end_date.year}-{end_date.month}-0{end_date.day}"
elif start_date.month <10:
    fin = f"{end_date.year}-0{end_date.month}-{end_date.day}"
else:
    fin = f"{end_date.year}-{end_date.month}-{end_date.day}"

print(fin)
url = f"https://api.open-meteo.com/v1/meteofrance?latitude=43.6&longitude=3.8833&hourly=temperature_2m,relativehumidity_2m,apparent_temperature,precipitation,rain,snowfall,windspeed_10m,windspeed_20m,temperature_20m&start_date={debut}&end_date={fin}"


response = requests.get(url)
data = response.json()
print(data)
degres=data['hourly']['temperature_2m']
ressenti=data['hourly']['apparent_temperature']
humidite=data['hourly']['relativehumidity_2m']
pluie=data['hourly']['precipitation']
neige=data['hourly']['snowfall']
vent=data['hourly']['windspeed_10m']

print(len(degres))
tabdegres = np.zeros((7,24))
k=0
for i in range(7):
    for j in range(24):
        tabdegres[i,j]= degres[k]
        k+=1

for i in range(7):
    print(i-2,min(tabdegres[i]),max(tabdegres[i]))


```